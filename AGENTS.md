# AGENTS

This project contains a cross-platform mobile application and a small backend.
It is written mostly in TypeScript/JavaScript with a Python OCR microservice.

## Project layout

```
/                Root of the repo
/app             Expo Router pages
/components      Reusable React components and Jest tests
/constants       Color palette
/server          Node.js Express backend
/ocr_service.py  Flask + PaddleOCR microservice
/supabase        Supabase migrations and generated types
/android         Native Android project created by Expo
/vendor          Third party dependencies (if any)
```

The frontend lives in `app` and `components`. The backend lives in `server` and calls the Python `ocr_service.py` for OCR. Database types and migrations are stored under `supabase`.

## Conventions

- Use **TypeScript** for React components (`.tsx`) and utility files (`.ts`).
- Use **ES modules** for Node code. The backend uses modern `import` syntax.
- Components and files are named in **PascalCase** (e.g. `Confirm.tsx`) while variables use **camelCase**.
- Keep Python scripts compatible with Python 3.11+.
- All thirdâ€‘party dependencies should be stored under the `/vendor` folder when vendoring is required.

## Testing

Tests use **Jest** with the `jest-expo` preset. Run tests from the repo root:

```bash
npm install          # install node modules
npm test             # run jest
```

The only existing test suite lives in `components/__tests__` and exercises React components.

## Running the backend

The server requires a `.env` file inside the `server` directory with these variables:

```
SB_URL=https://<project>.supabase.co
SB_SERVICE_KEY=<service-role-secret>
```

Start the backend with:

```bash
cd server
npm install
npm start
```

The OCR microservice can be launched separately:

```bash
python ocr_service.py
```

It depends on Flask, OpenCV, NumPy and PaddleOCR (see `/vendor` for pinned versions).

## Pull requests

When submitting a PR generated by OpenAI Codex or another agent:

1. Include a short summary of the changes and reference any relevant files.
2. Describe how tests were executed and indicate whether they passed.
3. Mention any network restrictions or failures encountered during testing.

